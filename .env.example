# ─────────────────────────────────────────────────────────────────────────────
# RepoGator — environment variable reference
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────

# ── Application ───────────────────────────────────────────────────────────────
# Human-readable application name shown in logs and API responses
APP_NAME=RepoGator

# Set to true to enable SQLAlchemy query logging and FastAPI debug mode
DEBUG=false

# Set to true when running the test suite (uses NullPool for DB connections)
TESTING=false

# ── GitHub ────────────────────────────────────────────────────────────────────
# Personal access token (or GitHub App token) with repo + issues + pull_requests scope
# Create one at: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_your_token_here

# Secret string used to verify incoming webhook payloads (HMAC-SHA256)
# Set the same value in: GitHub repo → Settings → Webhooks → Secret
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# The GitHub repository this instance manages, in "owner/repo" format
GITHUB_REPO=your-org/your-repo

# ── Database ──────────────────────────────────────────────────────────────────
# Async PostgreSQL connection URL (uses asyncpg driver)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://repogator:REDACTED_DB_PASSWORD@db:5432/repogator

# ── Redis ─────────────────────────────────────────────────────────────────────
# Redis connection URL used for the webhook event queue
REDIS_URL=redis://redis:6379

# ── OpenRouter (LLM) ──────────────────────────────────────────────────────────
# API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-your-key-here

# OpenRouter API base URL (leave as default unless using a proxy)
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Model identifier as listed on OpenRouter, e.g. anthropic/claude-3.5-sonnet
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet

# ── OpenAI (embeddings) ───────────────────────────────────────────────────────
# API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Embedding model to use for knowledge-base vectors
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ── ChromaDB ──────────────────────────────────────────────────────────────────
# Host and port of the ChromaDB HTTP server
# When running via docker-compose use the service name "chromadb"
CHROMADB_HOST=chromadb
CHROMADB_PORT=8001

# ── Queue ─────────────────────────────────────────────────────────────────────
# Redis list key used as the webhook event queue
WEBHOOK_QUEUE_NAME=repogator:webhook_events
